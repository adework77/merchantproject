<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creditswitch Merchant Portal | Login</title>
  <link rel="stylesheet" href="./styles/output.css" />
  <style>
    [x-cloak] {
      display: none !important;
    }
  </style>
</head>
<body
  class="select-none"
  x-data="{
    showPassword: false,
    showForgotPassword: false,
    zoom: false,
    currentYear: new Date().getFullYear(),
    loginDetails: { id: '', password: '' },
    idInvalid: false,
    passwordInvalid: false,
    showError: false,
    errorMessage: '',
    validateForm() {
      this.idInvalid = !this.loginDetails.id.trim();
      this.passwordInvalid = !this.loginDetails.password.trim();

      if (this.idInvalid || this.passwordInvalid) {
        this.showError = true;
        this.errorMessage = 'Please fill in all required fields.';
        return;
      }

      this.showError = false;
      this.errorMessage = '';

      //login logic here
    }
  }"
  x-effect="zoom = showForgotPassword"
>
  <section
    class="relative flex items-center justify-center overflow-hidden min-h-screen"
    x-transition
  >
    <div
      class="absolute inset-0 bg-cover bg-center transition-transform duration-700 ease-in-out backdrop-brightness-90"
      :class="{ 'scale-110': zoom, 'scale-100': !zoom }"
      style="background-image: url('./assets/Artboard7.png');"
    ></div>

    <div
      class="z-10 flex flex-col text-center bg-white shadow-md rounded-xl px-6 sm:px-10 py-7 space-y-3 w-full mx-2 my-10 sm:max-w-[430px]"
    >
      <img
        src="./assets/bluecreditswitchlogo.png"
        alt="creditswitch-blue-logo"
        loading="lazy"
        class="h-14 mx-auto"
      />
      <h1 class="text-2xl text-primary-black font-bold">Merchant Login</h1>

      <p
        class="text-primary-red break-words"
        role="alert"
        x-text="errorMessage"
        x-show="showError"
        x-transition
      ></p>

      <p class="text-primary-grey">Use your credentials to access your account.</p>
      <form class="my-8 text-left space-y-4" @submit.prevent="validateForm()">
        <div
          :class="idInvalid ? 'bg-red-100' : 'bg-gray-100/80 focus-within:bg-transparent focus-within:border-gray-700'"
          class="flex items-center gap-2 py-3 px-4 border border-transparent rounded-full"
        >
          <span 
            :class="idInvalid ? 'text-primary-red' : 'text-primary-grey'"
            class="flex items-center justify-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"
              />
            </svg>
          </span>
          <input
            type="text"
            id="id"
            name="id"
            placeholder="ID or Phone number"
            :class="idInvalid ? 'placeholder:text-primary-red' : ''"
            class="w-full font-semibold focus:outline-none"
            x-model="loginDetails.id"
            x-ref="idInput"
            @input="idInvalid = false"
          />
        </div>

        <div
          :class="passwordInvalid ? 'bg-red-100' : 'bg-gray-100/80 focus-within:bg-transparent focus-within:border-gray-700'"
          class="flex items-center gap-2 py-3 px-4 border border-transparent rounded-full"
        >
          <span 
            :class="passwordInvalid ? 'text-primary-red' : 'text-primary-grey'"
            class="flex items-center justify-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"
              />
            </svg>
          </span>

          <input
            :type="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            placeholder="Password"
            :class="passwordInvalid ? 'placeholder:text-primary-red' : ''"
            class="w-full font-semibold focus:outline-none"
            x-model="loginDetails.password"
            x-ref="passwordInput"
            @input="passwordInput = false"
          />

          <span
            :class="passwordInvalid ? 'text-primary-red' : 'text-primary-grey'"
            class="flex items-center justify-center cursor-pointer"
            @click="showPassword = !showPassword"
          >
            <svg
              x-show="!showPassword"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
              />
            </svg>

            <svg
              x-show="showPassword"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"
              />
            </svg>
          </span>
        </div>

        <div class="w-full flex justify-center">
          <div
            class="g-recaptcha scale-x-[1.1] scale-y-[1.05] origin-center"
            data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"
          ></div>
        </div>

        <div class="justify-self-end">
          <p
            class="text-sm text-secondary-linkColour hover:underline cursor-pointer"
            @click="showForgotPassword = !showForgotPassword"
          >
            Forgot Password?
          </p>
        </div>

        <div
          x-show="showForgotPassword"
          class="border border-gray-200 text-center rounded-sm px-2 sm:px-6 py-4 mt-5 transition-all transform"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 transform -translate-y-8"
          x-transition:enter-end="opacity-100 transform translate-y-0"
          x-transition:leave="transition ease-in duration-300"
          x-transition:leave-start="opacity-100 transform translate-y-0"
          x-transition:leave-end="opacity-0 transform -translate-y-8"
          x-cloak
        >
          <p class="font-bold mb-2 text-primary-black">Reset Password</p>
          <p class="text-primary-grey mb-4">
            How will you like to reset your password?
          </p>
          <div class="flex items-center justify-center gap-10">
            <a class="text-sm text-secondary-linkColour hover:underline cursor-pointer"
              >Email address</a
            >
            <a class="text-sm text-secondary-linkColour hover:underline cursor-pointer"
              >Phone number</a
            >
          </div>
        </div>

        <button
          type="submit"
          class="mt-2 w-full bg-primary-red hover:bg-red-700 text-white font-bold py-2 rounded-full cursor-pointer transition duration-200"
        >
          Login
        </button>
      </form>

      <p class="text-sm justify-self-end text-primary-grey">
        Copyright Â© <span x-text="currentYear"></span>
        <a class="text-primary-red cursor-pointer" href="https://creditswitch.com/"
          >Creditswitch</a
        >. All rights reserved
      </p>
    </div>
  </section>
</body>
<script type="module" src="./main.js"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
</html>
